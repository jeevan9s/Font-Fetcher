<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>

<body>
    <div id="box">
        <span id="text">Hello this is a test message</span>
    </div>

    <div id="box">
        <span id="text2">Hey this is another test message</span>
    </div>

    <div id="box">
        <span id="text3">Yo one last test message</span>
    </div>

    <div id="btn_container">
        <button id="submit_btn" class="btn btn-primary">Submit</button>
    </div>

    <div id="font_info" style="display: none;">
        <strong>Font Info:</strong>
        <p id="font"></p>
        <p id="size"></p>
        <p id="style"></p>
        <p id="colour"></p>
    </div>
    <style>
        #box {
            background: aliceblue;
            text-align: center;
        }

        #text {
            font-size: 22px;
            color: black;
            font-style: italic;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        }

        #text2 {
            font-size: 14px;
            color: rgb(238, 0, 0);
            font-weight: 800;
            font-family: Impact;
        }

        #text3 {
            font-size: 44px;
            color: rgb(14, 82, 0);
            font-weight: bold;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }

        #btn_container {
            text-align: center;
            margin-top: 2vh;
        }

        #btn_contain {
            text-align: center;
        }

        #testcopy {
            background-color: rgb(255, 255, 255);
            border: none;
            color: rgb(19, 19, 19);
            padding: 6px 11px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 15px;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s;
        }

        #testcopy:hover {
            color: #d86213;
            
            font-size: larger;
        }
    </style>

    <script>

        // map for different bold levels 
        const fontweight_map = {
            '100': 'Thin',
            '200': 'Extra Light',
            '300': 'Light',
            '400': 'Normal',
            '500': 'Medium',
            '600': 'Semi Bold',
            '700': 'Bold',
            '800': 'Extra Bold',
            '900': 'Black'
        }


        document.getElementById("submit_btn").addEventListener('click', () => {
            const selection = window.getSelection();

            if (selection.rangeCount > 0) {
                const range = selection.getRangeAt(0);
                const selectedText = range.toString().trim(); // Convert selected area into a string and trim any whitespace

                if (selectedText.length > 0) {
                    const span = document.createElement("span");
                    range.surroundContents(span)



                    // Get style of the temporary span
                    const textCS = getComputedStyle(span);
                    const font = textCS.fontFamily;
                    const size = textCS.fontSize;
                    const style = textCS.fontStyle;
                    const weight = textCS.fontWeight;

                    console.log(font);
                    console.log(size);
                    console.log(style);
                    console.log(weight)

                    // Map the font weight to a readable format
                    const readable_weight = fontweight_map[weight] || weight;
                    const combined_style = `${style}, Weight: ${readable_weight}`;

                    // Update the font information in the popup
                    document.getElementById("font").textContent = `Font: ${font}`;
                    document.getElementById("size").textContent = `Size: ${size}`;
                    document.getElementById("style").textContent = `Style: ${combined_style}`;
                    document.getElementById("font_info").style.display = "block";

                    // Remove the temporary span
                    span.outerHTML = span.innerText
                }
            }
        });
    </script>

    <div id="btn_contain">
        <button id="testcopy" style="background-color: rgb(255, 255, 255); border: none; color: rgb(19, 19, 19); padding: 6px 11px; text-align: center; text-decoration: none; display: inline-block; font-size: 15px; cursor: pointer; border-radius: 8px;
">
            <i class="fa fa-clone"></i>
        </button>
    </div>

</body>

</html>

<div id="font_info" style="color: rgb(17, 17, 17); font-weight: 900;">
    <div style="display: flex; align-items: center;">
        <strong style="flex-grow: 1;"><b>Font Info</b></strong>
        <button id="copyall"
            style="background-color: rgb(255, 255, 255); border: none; color: rgb(19, 19, 19); padding: 6px 11px; text-decoration: none; display: inline-block; font-size: 15px; cursor: pointer; border-radius: 8px;"><i
                class="fa fa-clone"></i></button>
    </div>
</div>